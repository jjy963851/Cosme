
import Head from 'next/head'
import Layout from '@/components/layout';
import 'swiper/css';
import GPT from './chatgpt';
import Login from './login';
import { BrowserRouter, Route, Routes } from "react-router-dom";
import MainPage from './mainpage';
import IntroPage from './introPage';
import QuestionPage from './questionPage';
import {Swiper, SwiperSlide} from "swiper/react";
import SwiperCore, { Navigation, Pagination, Keyboard } from "swiper";
import 'swiper/css';
import QuestionProps from '@/components/question_props';
import IntroProps from '@/components/intro_props';
import FirstintroPage from './firstintroPage';
export default function Home({qst}) {
 
 
  return (
    <>
      <Head>
        <title>Cosme</title>
        <meta name="description" content="Generated by create next app" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <link rel="icon" href="/favicon.ico" />
      </Head>
      {/*<Layout>*/}
        
       
      <div className='pt-3 px-5'>
      <Swiper
      className='h-1/2 lg:w-3/4 mx-auto '
      rewind ={true}
      slidesPerView={"auto"}
      autoHeight
      direction={"vertical"}
      threshold = {"30"}
      speed={500}
      keyboard={{
        enabled: true,
      }}
     
      modules={[Keyboard]}
    >
        

        {qst.data.map((post, index) => (
        <SwiperSlide key={index}>
        <SwiperSlide>
        <IntroPage/>
        </SwiperSlide>
        <SwiperSlide>
        <QuestionProps shopName ={post?.name} city ="NY, brooklyn" description = {post?.description} recommendation= {post?.id} skinType ={post?.concerns} age ="26" concern1={post?.labels} concern2= {post?.labels}/>
        </SwiperSlide>
        <SwiperSlide>
           <FirstintroPage key = {index} post = {post} /> 
           </SwiperSlide>
         
        </SwiperSlide>
        
        ))}


      
      
       </Swiper>
      {/*
       {qst.data.map((post, index) => (
           
        ))}
      </Layout>*/}
      </div>
    </>
  )
}

export async function getStaticProps(){
  const res = await fetch('http://35.209.3.225:5000/routine');
  const qst= await res.json();

  return{
    props: {qst},

  };

}
